<ion-breadcrumbs color="primary">

  <ion-breadcrumb href="/home">
      <ion-icon slot="start" name="home"></ion-icon>
      Inicio
  </ion-breadcrumb>
  <ion-breadcrumb href="/tickets">
      <ion-icon slot="start" name="megaphone-outline"></ion-icon>
      Tickets
  </ion-breadcrumb>
</ion-breadcrumbs>

<ion-content>
  <ion-grid fixed>
      <ion-row class="ion-justify-content-center">
          <ion-col size="12">
              <ion-item class="round">
                  <ion-col size="11">
                      <ion-searchbar searchIcon="search" showcancelbutton="OK" class="forminput ion-margin" placeholder="Buscar por nombre o numero de tienda, o folio del ticket..." (ionChange)="onSearchChange($event)" [debounce]="250" showCancelButton="OK"></ion-searchbar>
                  </ion-col>
              </ion-item>
          </ion-col>
      </ion-row>
      <ion-row class="ion-justify-content-center ion-align-items-center round fondo-white">
        <ion-col size-md="3" size-sm="12">
            <ion-item>
                <ion-label>Estatus</ion-label>
                <ion-select placeholder="Seleccione estatus" interface="popover" (ionChange)="onChangeEstatus(estatusTicket.value)" #estatusTicket>
                    <ion-select-option [value]="estatus.estatusId" *ngFor="let estatus of this.LosEstatus">{{ estatus.nombre }}
                    </ion-select-option>
                </ion-select>
            </ion-item>
    </ion-col>
    <ion-col size-md="3" size-sm="12">
        <ion-item>
            <ion-label> <b>Tipo:</b></ion-label>
            <ion-select placeholder="Seleccione ubicacion" interface="popover">
                <ion-select-option *ngFor="let tipos of this.LosTipos" [value]="tipos.tipoId">
                    {{tipos.nombre | titlecase }}</ion-select-option>
            </ion-select>
        </ion-item>
    </ion-col>
          <ion-col size-md="3" size-sm="12">

              <ion-item button="true" id="open-modal-ini">
                  <ion-label>Fecha Inicio:
                  </ion-label>
                  <ion-input [value]="dateFechaIni"></ion-input>
                  <ion-icon name="calendar-outline"></ion-icon>
                  <ion-modal trigger="open-modal-ini" id="modal-bottom">
                    <ng-template>
                        <ion-content>
                            <ion-datetime class="ion-text-center" #popoverDatetime presentation="date" (ionChange)="onFechaIniSelected($event)">
                            </ion-datetime>
                        </ion-content>
                    </ng-template>
                </ion-modal>
              </ion-item>

          </ion-col>
          <ion-col size-md="3" size-sm="12">

              <ion-item button="true" id="open-modal-fin">
                  <ion-label>Fecha Fin:
                  </ion-label>
                  <ion-input [value]="dateFechaFin"></ion-input>
                  <ion-icon name="calendar-outline"></ion-icon>
                  <ion-modal trigger="open-modal-fin" id="modal-bottom">
                    <ng-template>
                        <ion-content>
                            <ion-datetime class="ion-text-center" #popoverDatetime presentation="date" (ionChange)="onFechaFinSelected($event)">
                            </ion-datetime>
                        </ion-content>
                    </ng-template>
                </ion-modal>
              </ion-item>

          </ion-col>
      </ion-row>

      <ion-row *ngIf="!cargando">
        <ion-col size="12">
            <ion-item>

                <ion-grid fixed>
                    <ion-row class="header">
                        <ion-col size="3">Folio</ion-col>
                        <ion-col size="1">Fecha</ion-col>
                        <ion-col size="3">Tienda</ion-col>
                        <ion-col size="2" class="ion-hide-sm-down">Tipo</ion-col>
                        <ion-col size="2" class="ion-hide-sm-down">Estatus</ion-col>
                        <ion-col size="1"></ion-col>
                    </ion-row>
                    <ion-row *ngFor="let ticket of listadoTickets" class="border-grid-row">
                        <ion-col size="3">
                            {{ ticket.numero}}
                        </ion-col>
                        <ion-col size="1">
                            {{ ticket.fechaAlta | date: 'dd/MM/yy' }}
                        </ion-col>
                        <ion-col size="3">
                            {{ ticket.tienda.nombre }}
                        </ion-col>
                        <ion-col size="2" class="ion-hide-sm-down">
                            {{ticket.email}}
                        </ion-col>
                        <!-- <ion-col size="3">
                            {{ticket.proveedor.proveedorId}}&nbsp;|&nbsp;{{ orden.proveedor.nombre | portion:15 }}
                        </ion-col> -->
                        <ion-col size="2" class="ion-hide-sm-down" [ngSwitch]="ticket.estatus.nombre">
                            <ion-chip outline="true" color="tertiary" *ngSwitchCase="'Autorizada'">
                                <ion-label color="tertiary"> {{ ticket.estatus.nombre }}</ion-label>
                            </ion-chip>
                            <!--<ion-chip outline="true" color="secondary" *ngSwitchCase="'Atendiendo'">
                                <ion-label color="secondary"> {{ orden.estatus.nombre }}</ion-label>
                            </ion-chip>
                            <ion-chip outline="true" color="primary" *ngSwitchCase="'Firmada'">
                                <ion-label color="primary"> {{ orden.estatus.nombre }}</ion-label>
                            </ion-chip>
                            <ion-chip outline="true" color="warning" *ngSwitchCase="'Cancelada'">
                                <ion-label color="warning"> {{ orden.estatus.nombre }}</ion-label>
                            </ion-chip>
                            <ion-chip outline="true" color="danger" *ngSwitchCase="'Rechazada'">
                                <ion-label color="danger"> {{ orden.estatus.nombre }}</ion-label>
                            </ion-chip>
                            <ion-chip outline="true" color="success" *ngSwitchCase="'Publicada'">
                                <ion-label color="success"> {{ orden.estatus.nombre }}</ion-label>
                            </ion-chip>
                            <ion-chip color="success" *ngSwitchCase="'Finalizada'">
                                <ion-label color="success"> {{ orden.estatus.nombre }}</ion-label>
                            </ion-chip>
                            <ion-chip outline="true" color="medium" *ngSwitchDefault>
                                <ion-label color="medium"> {{ orden.estatus.nombre }}</ion-label>
                            </ion-chip> -->
                        </ion-col> 
                        <ion-col size="1">
                            <ion-buttons>
                                 <ion-button slot="end" (click)="mostrarMenu($event, ticket)">
                                    <ion-icon slot="icon-only" ios="ellipsis-horizontal" md="ellipsis-vertical"></ion-icon>
                                </ion-button>
                            </ion-buttons>
                        </ion-col>
                    </ion-row>
                </ion-grid>

            </ion-item>
        </ion-col>
    </ion-row>

</ion-grid>

</ion-content>